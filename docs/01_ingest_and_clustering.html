---

title: Section 1 Data Ingestion and Clustering Process


keywords: fastai
sidebar: home_sidebar



nb_path: "01_01_ingest_and_clustering.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 01_01_ingest_and_clustering.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Section 1 outlines the <strong>ingest</strong> and <strong>clustering</strong> processes as parts of <em>SC2 Training Grounds'</em> computer model.
{% include note.html content='this sections&#8217; notebooks and modules use sequence diagrams and annotated code to illustrate the development of one of the primary processes that make up <em>SC2 Training Grounds&#8217;</em> computer model. I chose to develop this part of the document in the most specific level of detail because the base concept of <em>SC2 Training Grounds</em> is to use player experience modelling to generate recommendations. Player experience modelling requires defining a way to abstract and transform the players&#8217; experience into quantifiable data, which I do in this module (see dissertation chapter 5.2).' %}
The following sequence diagram shows the proposed flow of orders and data between modules that would compose the application's ingest and clustering process. In particular, it shows how the library's main module (i.e. sc_training) can orchestrate the following steps:</p>
<ol>
<li>Load the replay files generated by StarCraft II.</li>
<li>Call upon the <em>ingest</em> sub-package to inventory the replays and store their relevant indicators into various collections within a document-based database using a local MongoDB client. </li>
<li>Use the <em>profiler</em> sub-package to build the player profiles from the replay data collections.</li>
<li>Process the player profiles by game race to build each race classification clusters using the <em>cluster</em> sub-package. </li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include image.html alt="Clustering Process Sequence Diagram" caption="Clustering Process Sequence Diagram" id="clustering_seq_diagram" height="900" file="/sc_training/images/clustering_sequence.png" %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Based on this proposed flow of orders, I first need to implement the ingest process for StarCraft II replay files. This ingestion process is essential to structure the input for the clustering process. Furthermore, it also determines the input of the application's classification modelling process, as shown in SC2 Training Grounds activity diagram (see Section 1's introduction).</p>
<p>In the sequence diagram, I show that the ingestion process is, on a top-level, composed of two main functions,  <a href="/sc_training/ingest.html#inventory_replays"><code>inventory_replays</code></a> and <a href="/sc_training/ingest.html#get_replay_indicators"><code>get_replay_indicators</code></a>. <a href="/sc_training/ingest.html#inventory_replays"><code>inventory_replays</code></a> registers the replays so that a user can use their basic meta-data to reference specific replays and identify their players. Meanwhile, <a href="/sc_training/ingest.html#get_replay_indicators"><code>get_replay_indicators</code></a> compiles all performance indicators of each player in each replay. Thus, the system can loop through various replays and extract and store the performance indicators for each player in each game.</p>
<p>Having understood how the functions are supposed to interact, I implement them in the following modules. The most important outcome of this implementation is the structure of the players' performance indicators and how this data is indexed. In other words, this definition determines the information vectors that will become the inputs for the clustering and classification modelling process afterwards. 
{% include note.html content='To review the three-step process that resulted in the final version of the vectors, see the dissertation document Chapter 5.' %}
This implementation implies defining multiple functions that extract, organise and return different bits of information contained in a <em>SC2Replay</em> file. Since different pieces relate to different categories of information, I group the functions in separate modules according to those categories.</p>
<p>The following sequence diagram shows the interaction between these modules in the ingest process.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include image.html alt="Instion Sequence Diagram" caption="Ingestion Sequence Diagram" id="ingest_seq_diagram" height="900" file="/sc_training/images/ingest_sequence_diagram.png" %}</p>

</div>
</div>
</div>
</div>
 

